# Single hash indicates main section
## Double hash indicates subsection

# General:
set -g default-shell $SHELL # configure default shell
set -g renumber-windows on # automatically renumber tmux windows
setw -g aggressive-resize on # window size constraints to session client
set -sg escape-time 0 # make delay shorter
set -g base-index 1 # make window index start with 1
setw -g pane-base-index 1 # make pane index start with 1
setw -g mouse on # enable mouse support for switching panes/windows

## activity monitoring
setw -g monitor-activity off
set -g visual-activity off

## disable renaming
set-window-option -g automatic-rename off
set-option -g allow-rename off 


# Key Bindings:
bind r source-file ~/.tmux.conf \; display "config reloaded!"
bind -n C-k send-keys -R \; clear-history # clear history
bind y setw synchronize-panes # synchronize all panes in a window

## prefix
unbind c-b
set -g prefix c-a
bind-key c-a send-prefix
bind-key a send-prefix # for nested tmux sessions
bind-key b last-window

## swap between windows
bind-key -r < swap-window -t -1
bind-key -r > swap-window -t +1

## resize pane shortcuts
bind -r H resize-pane -L 10
bind -r J resize-pane -D 10
bind -r K resize-pane -U 10
bind -r L resize-pane -R 10

## pane movement between windows
bind-key + command-prompt -p "join pane from:"  "join-pane -s '%%'"
bind-key = command-prompt -p "send pane to:"  "join-pane -t '%%'"

## pane movement
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

## window movement
bind -r c-h select-window -t :-
bind -r c-l select-window -t :+

## split window and fix path for tmux 1.9
bind | split-window -h -c "#{pane_current_path}"
bind - split-window -v -c "#{pane_current_path}"

## set vi mode for copy mode
setw -g mode-keys vi

unbind [
bind v copy-mode
## setup 'v' to begin selection, just like Vim
bind-key -T copy-mode-vi 'v' send -X begin-selection

## setup 'y' to yank (copy), just like Vim
bind-key -T copy-mode-vi 'y' send -X copy-pipe-and-cancel "pbcopy"
bind-key -T copy-mode-vi 'V' send -X select-line
bind-key -T copy-mode-vi 'r' send -X rectangle-toggle


## Colour and Display
tm_icon=" üöÄ "
tm_color_active=colour41
tm_color_inactive=colour241
tm_color_feature=colour13
tm_color_music=colour164
tm_active_border_color=colour198

# separators
tm_separator_left_bold="‚óÄ"
tm_separator_left_thin="‚ùÆ"
tm_separator_right_bold="‚ñ∂"
tm_separator_right_thin="‚ùØ"

## colorscheme
set -g default-terminal "screen-256color"
set -g @colors-solarized 'dark'

# default statusbar colors
set-option -g status-bg colour0
set-option -g status-fg $tm_color_active
set-option -g status-bg default
set-option -g status-attr default

# default window title colors
set-window-option -g window-status-fg $tm_color_inactive
set-window-option -g window-status-bg default
set -g window-status-format "#I #W"

## active window title colors
set-window-option -g window-status-current-fg $tm_color_active
set-window-option -g window-status-current-bg default
set-window-option -g  window-status-current-format "#[bold]#I #W"

# message text
set-option -g message-bg default
set-option -g message-fg $tm_color_active

# pane number display
set-option -g display-panes-active-colour $tm_color_active
set-option -g display-panes-colour $tm_color_inactive

# clock
set-window-option -g clock-mode-colour $tm_color_active

## window status
set -g status-left-length 32
set -g status-right-length 150
set -g status-interval 5
tm_date="#[fg=$tm_color_inactive] %r %d %b"
tm_host="#[fg=$tm_color_feature,bold]#H"
tm_session_name="#[fg=$tm_color_feature,bold]$tm_icon #S"
set -g status-left $tm_session_name' '
set -g status-right ' '$tm_date' '$tm_host


# Plugins
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'tmux-plugins/tmux-resurrect'
set -g @plugin 'seebi/tmux-colors-solarized'

## initialize tmux plugin manager (keep this line at the very bottom of tmux.conf)
run -b '~/.tmux/plugins/tpm/tpm'
